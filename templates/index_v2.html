{% extends "base_v2.html" %}

{% block title %}Dashboard - Art University Job Scraper{% endblock %}

{% block content %}
<div class="card">
    <h2>ğŸ“Š Dashboard</h2>
    <p style="margin-top: 10px; color: #7f8c8d;">Overview of wissenschaftliche and kÃ¼nstlerische Mitarbeiter positions</p>
</div>

<div class="stats">
    <div class="stat-box">
        <h3>{{ stats.total_positions or 0 }}</h3>
        <p>Total Positions</p>
    </div>
    <div class="stat-box" style="background: #3498db;">
        <h3>{{ stats.by_type.get('wissenschaftliche', 0) }}</h3>
        <p>Wissenschaftliche</p>
    </div>
    <div class="stat-box" style="background: #9b59b6;">
        <h3>{{ stats.by_type.get('kuenstlerische', 0) }}</h3>
        <p>KÃ¼nstlerische</p>
    </div>
    <div class="stat-box" style="background: #27ae60;">
        <h3>{{ stats.recent_scrapes or 0 }}</h3>
        <p>Recent Scrapes (7 days)</p>
    </div>
</div>

<div class="card" style="margin-top: 20px;">
    <h3>ğŸ›ï¸ Top Universities by Positions</h3>
    <table style="margin-top: 15px;">
        <thead>
            <tr>
                <th>University</th>
                <th>Positions</th>
            </tr>
        </thead>
        <tbody>
            {% for uni, count in stats.top_universities.items() %}
            <tr>
                <td>{{ uni }}</td>
                <td><strong>{{ count }}</strong></td>
            </tr>
            {% else %}
            <tr>
                <td colspan="2" style="text-align: center; color: #7f8c8d;">No data yet. Run a scrape to populate database.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="card">
    <h3>ğŸš€ Quick Actions</h3>
    <div style="display: flex; gap: 10px; margin-top: 15px;">
        <a href="/positions" class="btn">View All Positions</a>
        <a href="/scraper" class="btn btn-success">Run Scraper</a>
    </div>
</div>

<div class="card" style="background: #ecf0f1;">
    <h4>â„¹ï¸ About</h4>
    <p style="margin-top: 10px; line-height: 1.6; color: #555;">
        This system scrapes <strong>39 art universities and Fachhochschulen</strong> across Germany, Austria, and Switzerland for wissenschaftliche and kÃ¼nstlerische Mitarbeiter positions.
        It uses <strong>incremental scraping</strong> to only check pages that have changed, making it 10-100x faster than traditional scrapers.
    </p>
</div>
{% endblock %}
